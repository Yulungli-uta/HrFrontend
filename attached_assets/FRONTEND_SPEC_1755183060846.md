# FRONTEND SPEC — WsUtaSystem (React)

## Objetivo
Construir un frontend en **React** (Vite o CRA) que consuma la API **WsUtaSystem** para Gestión de Talento Humano.

## Base API
- Base URL: `http://localhost:5001`
- Swagger: `/swagger` → JSON: `/swagger/v1/swagger.json`
- JSON camelCase, CORS habilitado.

## Recursos y rutas
### Personas
- GET `/api/personas`
- GET `/api/personas/{id}`
- POST `/api/personas` (body: `{ identificacion, nombres, apellidos, emailInstitucional? }`)
- PUT `/api/personas/{id}`
- DELETE `/api/personas/{id}`

### Contratos
- GET `/api/contratos`
- POST `/api/contratos` (body: `{ personaId, puestoId, tipo, fechaInicio, sueldoBase }`)

### Turnos
- Planes: `/api/turnos/planes`
- Detalles: `/api/turnos/detalles`
- Asignaciones: `/api/turnos/asignaciones`

### Marcaciones
- `/api/marcaciones` (crear: `{ personaId, timestamp, tipo }`)

### Permisos/Vacaciones/Recuperaciones
- `/api/permisos` (crear: `{ personaId, tipo, desde, hasta, horas }`)
- `/api/vacaciones`
- `/api/recuperaciones`

### Subrogaciones
- `/api/subrogaciones`

### Nómina
- Periodos: `/api/nomina/periodos`
- Conceptos: `/api/nomina/conceptos`
- Movimientos: `/api/nomina/movimientos`

### CV / Publicaciones
- Educacion: `/api/cv/educacion`
- Experiencia: `/api/cv/experiencia`
- Certificaciones: `/api/cv/certificaciones`
- Publicaciones: `/api/publicaciones`

## Páginas sugeridas
1. **Dashboard**: tarjetas de personas, contratos, marcaciones del día.
2. **Personas**: listado, búsqueda, alta/edición, detalle con tabs (Contratos, Turnos, Asistencia, Permisos/Vacaciones, Nómina, CV, Publicaciones).
3. **Asistencia**: carga de marcaciones, vista por fecha/persona.
4. **Permisos & Vacaciones**: formularios + estado.
5. **Nómina**: períodos, conceptos, movimientos (crear/editar).
6. **Publicaciones**: CRUD sencillo con filtros por año/tipo.

## Componentes y libs
- Router: `react-router-dom`
- HTTP: `fetch` o `axios`
- UI: libre (MUI, AntD, Tailwind)
- Formularios: `react-hook-form` + `zod` (validación)
- Tablas: `@tanstack/react-table`

## Helpers API (ejemplo)
```ts
export const API_BASE = import.meta.env.VITE_API_BASE ?? "http://localhost:5001";
async function api(path: string, init?: RequestInit) {
  const res = await fetch(`${API_BASE}${path}`, {
    headers: { "Content-Type": "application/json" },
    ...init,
  });
  if (!res.ok) throw new Error(await res.text());
  return res.status === 204 ? null : res.json();
}
export const Personas = {
  list: () => api("/api/personas"),
  get: (id:number) => api(`/api/personas/${id}`),
  create: (data:any) => api("/api/personas", { method:"POST", body: JSON.stringify(data) }),
  update: (id:number, data:any) => api(`/api/personas/${id}`, { method:"PUT", body: JSON.stringify(data) }),
  remove: (id:number) => api(`/api/personas/${id}`, { method:"DELETE" }),
};
```

## .env ejemplo (Vite)
```
VITE_API_BASE=https://<tu-dominio-o-replit-app>
```

## Consideraciones
- Manejar fechas: backend usa `DateOnly`/`DateTime` → en frontend enviar ISO strings.
- Paginación/filtrado: implementar lado cliente inicialmente; luego backend.
- Autenticación: fuera de alcance en esta versión; CORS ya habilitado.
